!function(){function e(t,n,i){function r(s,c){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!c&&l)return l(s,!0);if(o)return o(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var g=n[s]={exports:{}};t[s][0].call(g.exports,function(e){var n=t[s][1][e];return r(n||e)},g,g.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}return e}()({1:[function(e,t,n){"use strict";function i(){const e=this;e.close=jQuery.fancybox.close,console.log(e)}angular.module("app").component("popupLuggageWeightInfo",{templateUrl:"components/popup-luggage-weight-info/popup-luggage-weight-info.html",controller:["fancyboxTools",i],controllerAs:"vm"})},{}],2:[function(e,t,n){"use strict";function i(e,t,n){n.ready.then(function(){e.substrChange=function(i){e.filteredCitiesList=t.filterCitiesList(e.citiesList,e.searchSubstr,n.sessionParams.lang,n.sessionParams.localNamePropName,e.excludeCityCode),1!==e.filteredCitiesList.length||i||(e.selectedCity=e.filteredCitiesList[0],focusNextInput())}})}var r=angular.module("app");r.directive("cityPickerFix",function(){return{scope:!1,bindToController:!0,controller:"cityPickerFixController"}}),r.controller("cityPickerFixController",["$scope","utils","backend",i])},{}],3:[function(e,t,n){"use strict";function i(e,t,n){function i(){r()}function r(){switch(u.selectedSortingFilter.value){case"depTime":o();break;case"arrTime":s();break;case"flightTime":c();break;case"cheapest":l();break;case"connectionTime":a();break;default:o()}}function o(){u.segment.sort(function(e,n){return t.compareStringTime(e.flightsInfo.departuretime,n.flightsInfo.departuretime)})}function s(){u.segment.sort(function(e,n){return t.compareStringTime(e.flightsInfo.arrivaltime,n.flightsInfo.arrivaltime)})}function c(){u.segment.sort(function(e,n){return t.compareStringTime(e.flightsInfo.flighttime,n.flightsInfo.flighttime)})}function l(){u.segment.sort(function(e,t){return parseInt(e.minPrice,10)-parseInt(t.minPrice,10)})}function a(){u.segment.sort(function(e,n){return e.flightsInfo.connections.length?n.flightsInfo.connections.length?e.flightsInfo.connections.length&&n.flightsInfo.connections.length?t.compareStringTime(e.flightsInfo.connections[0].time,n.flightsInfo.connections[0].time):0:1:-1})}function g(e){u.onlyDirect=e,f()}function f(){u.onlyDirect?_.forEach(u.segment,function(e){e.isDirectFlight=!e.flightsInfo.connections.length}):_.forEach(u.segment,function(e){e.isDirectFlight=!0})}var u=this;u.handleSelect=r,u.onlyDirect=!1,u.handleDirectCheckboxSwitch=g,u.sortingVariants=[],u.selectedSortingFilter=u.sortingVariants[0],n.ready.then(function(){u.sortingVariants=[{value:"depTime",name:n.getAlias("web.sortingNames.departureTime")},{value:"arrTime",name:n.getAlias("web.sortingNames.arrivalTime")},{value:"flightTime",name:n.getAlias("web.sortingNames.flightTime")},{value:"cheapest",name:n.getAlias("web.sortingNames.cheapest")},{value:"connectionTime",name:n.getAlias("web.sortingNames.connectionTime")}],u.selectedSortingFilter=u.sortingVariants[0],i()}),e.$watch(angular.bind(this,function(){return u.onlyDirect}),function(){f()})}var r=angular.module("app");r.directive("flightsSorting",function(){return{scope:{segment:"="},templateUrl:"directives/flightsSorting/flights-sorting.html",controllerAs:"vm",bindToController:!0,controller:"flightsSortingController"}}),r.controller("flightsSortingController",["$scope","utils","backend",i])},{}],4:[function(e,t,n){"use strict";var i=angular.module("app");i.filter("airplaneRename",function(){return function(e){return _.contains(["CANADAIR REGIONAL JET","КАНАДЭР РЕГИОН ДЖЕТ"],e)?"CRJ-100/200":e}})},{}],5:[function(e,t,n){"use strict";e("./filters/airplaneRename"),e("./components/popup-luggage-weight-info/popup-luggage-weight-info"),e("./directives/flightsSorting/flights-sorting"),e("./directives/cityPickerFix")},{"./components/popup-luggage-weight-info/popup-luggage-weight-info":1,"./directives/cityPickerFix":2,"./directives/flightsSorting/flights-sorting":3,"./filters/airplaneRename":4}]},{},[5]);
//# sourceMappingURL=controllers-rusline.js.map
